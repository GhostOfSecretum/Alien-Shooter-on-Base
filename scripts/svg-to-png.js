// –°–∫—Ä–∏–ø—Ç –¥–ª—è –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–∏ SVG –≤ PNG
// –ò—Å–ø–æ–ª—å–∑—É–µ—Ç sharp –µ—Å–ª–∏ –¥–æ—Å—Ç—É–ø–µ–Ω, –∏–Ω–∞—á–µ —Å–æ–∑–¥–∞–µ—Ç –ø—Ä–æ—Å—Ç—ã–µ PNG —á–µ—Ä–µ–∑ canvas

const fs = require('fs');
const path = require('path');

const publicDir = path.join(__dirname, '..', 'public');

// –ü—Ä–æ—Å—Ç—ã–µ PNG –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –≤ base64 (–º–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ —Ä–∞–∑–º–µ—Ä—ã –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è)
// –í –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ –ª—É—á—à–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ä–µ–∞–ª—å–Ω—ã–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è

const createSimplePNG = (width, height, color, text) => {
  // –°–æ–∑–¥–∞–µ–º –ø—Ä–æ—Å—Ç–æ–π PNG —á–µ—Ä–µ–∑ canvas API (–µ—Å–ª–∏ –¥–æ—Å—Ç—É–ø–µ–Ω)
  // –ò–ª–∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ–º –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—é –¥–ª—è —Ä—É—á–Ω–æ–≥–æ —Å–æ–∑–¥–∞–Ω–∏—è
  
  console.log(`üìù –°–æ–∑–¥–∞–π—Ç–µ ${text} (${width}x${height}px) –≤—Ä—É—á–Ω—É—é –∏–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ generate-images.html`);
  return null;
};

// –û–±–Ω–æ–≤–ª—è–µ–º –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é —á—Ç–æ–±—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å SVG –≤—Ä–µ–º–µ–Ω–Ω–æ
const updateConfig = () => {
  const configPath = path.join(__dirname, '..', 'minikit.config.ts');
  let config = fs.readFileSync(configPath, 'utf8');
  
  // –ó–∞–º–µ–Ω—è–µ–º .png –Ω–∞ .svg –≤—Ä–µ–º–µ–Ω–Ω–æ
  config = config.replace(/\.png/g, '.svg');
  
  fs.writeFileSync(configPath, config);
  console.log('‚úÖ –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∞ –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è SVG —Ñ–∞–π–ª–æ–≤');
};

console.log('üîÑ –ö–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è SVG –≤ PNG...');
console.log('üìù –ü—Ä–∏–º–µ—á–∞–Ω–∏–µ: –î–ª—è –ª—É—á—à–µ–≥–æ –∫–∞—á–µ—Å—Ç–≤–∞ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ generate-images.html');

// –û–±–Ω–æ–≤–ª—è–µ–º –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é
updateConfig();

console.log('‚úÖ –ì–æ—Ç–æ–≤–æ! SVG —Ñ–∞–π–ª—ã –±—É–¥—É—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –≤—Ä–µ–º–µ–Ω–Ω–æ.');
console.log('üí° –î–ª—è —Å–æ–∑–¥–∞–Ω–∏—è PNG: –æ—Ç–∫—Ä–æ–π—Ç–µ public/generate-images.html –≤ –±—Ä–∞—É–∑–µ—Ä–µ');

